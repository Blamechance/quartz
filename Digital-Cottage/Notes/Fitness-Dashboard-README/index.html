<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Fitness Dashboard Video Demo:  https://youtu.be/Np4lORlm-Y0
Concept: My friends and I have been using the FitNotes mobile app to recording our weightlifting training data for years now, but the app is mostly for personal use, and so the information is not easily shared or visible to each other."><meta property="og:title" content="Fitness Dashboard README"><meta property="og:description" content="Fitness Dashboard Video Demo:  https://youtu.be/Np4lORlm-Y0
Concept: My friends and I have been using the FitNotes mobile app to recording our weightlifting training data for years now, but the app is mostly for personal use, and so the information is not easily shared or visible to each other."><meta property="og:type" content="website"><meta property="og:image" content="https://blamechance.github.ioicon.png"><meta property="og:url" content="https://blamechance.github.io/Digital-Cottage/Notes/Fitness-Dashboard-README/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fitness Dashboard README"><meta name=twitter:description content="Fitness Dashboard Video Demo:  https://youtu.be/Np4lORlm-Y0
Concept: My friends and I have been using the FitNotes mobile app to recording our weightlifting training data for years now, but the app is mostly for personal use, and so the information is not easily shared or visible to each other."><meta name=twitter:image content="https://blamechance.github.ioicon.png"><title>Fitness Dashboard README</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://blamechance.github.io/icon.png><link href=https://blamechance.github.io/styles.01121eab5d3d633c2566cb7f9abd1307.min.css rel=stylesheet><link href=https://blamechance.github.io/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://blamechance.github.io/js/darkmode.147d42fe11b783731935d3110bb1c272.min.js></script>
<script src=https://blamechance.github.io/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://blamechance.github.io/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://blamechance.github.io/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://blamechance.github.io/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://blamechance.github.io/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://blamechance.github.io",fetchData=Promise.all([fetch("https://blamechance.github.io/indices/linkIndex.a9c92faa1c9ede57946e929399a47074.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://blamechance.github.io/indices/contentIndex.cfd878224165fbc9619b299b23dc8c07.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://blamechance.github.io",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://blamechance.github.io",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'‚Äô':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/blamechance.github.io\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=blamechance.github.io src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://blamechance.github.io/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://blamechance.github.io>üè° Blamechance's Digital Cottage</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Fitness Dashboard README</h1><p class=meta>Last updated
Feb 29, 2024
<a href=/Digital-Cottage/Notes/Fitness%20Dashboard%20README.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://blamechance.github.io/tags/Flask/>Flask</a></li><li><a href=https://blamechance.github.io/tags/Python/>Python</a></li><li><a href=https://blamechance.github.io/tags/JavaScript/>Java script</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#video-demo>Video Demo:</a></li><li><a href=#concept>Concept:</a></li><li><a href=#directories>Directories:</a><ol><li></li></ol></li><li><a href=#logicimplementation-explanation>Logic/Implementation Explanation:</a><ol><li><a href=#user-accounts-database>User Accounts Database:</a></li><li><a href=#shared-submission-functions>Shared Submission Functions:</a></li><li><a href=#weight-data-submission>Weight Data Submission:</a></li><li><a href=#training-data-submissions>Training Data Submissions:</a></li></ol></li><li><a href=#dashboard-explanation>Dashboard Explanation:</a><ol><li><a href=#modules>Modules:</a></li><li><a href=#data-flow>Data Flow:</a></li><li><a href=#elements>Elements:</a></li></ol></li><li><a href=#other-design-notes>Other Design notes:</a><ol><li><a href=#metric-system-measurement-support-only>Metric System Measurement Support Only:</a></li></ol></li></ol></nav></details></aside><a href=#fitness-dashboard><h1 id=fitness-dashboard><span class=hanchor arialabel=Anchor># </span>Fitness Dashboard</h1></a><a href=#video-demo><h2 id=video-demo><span class=hanchor arialabel=Anchor># </span>Video Demo:</h2></a><p><a href=https://youtu.be/Np4lORlm-Y0 rel=noopener>https://youtu.be/Np4lORlm-Y0</a></p><a href=#concept><h2 id=concept><span class=hanchor arialabel=Anchor># </span>Concept:</h2></a><p>My friends and I have been using the
<a href="https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en_US" rel=noopener>FitNotes mobile app</a> to recording our weightlifting training data for years now, but the app is mostly for personal use, and so the information is not easily shared or visible to each other.</p><p>Features include:</p><ul><li>Line graph visualisations of weight data trends over 3, 6 and 12 months.</li><li>Transforms Training Data to include weight data, and custom <em>Strength Index</em> scores.</li><li>Fully-featured tables that include sorting filters, to summarise the user&rsquo;s heaviest weight PRs, and highest <em>strength index</em> PRs as well as instant record searching.</li><li>Server-side saving of processed data and raw CSV submissions, as FitNotes has no fleshed out back-up function beyond exports.</li></ul><p>In future, I plan to add more functions to supplement our fitness journeys, such as a TDEE calculator and a Bulk/Cut Diet Planning Calculator.</p><a href=#directories><h2 id=directories><span class=hanchor arialabel=Anchor># </span>Directories:</h2></a><p>The significant items in the root directory of the project are:</p><a href=#app_core><h5 id=app_core><span class=hanchor arialabel=Anchor># </span>app_core:</h5></a><p>This folder contains blueprints and <code>.py</code> helper files that make up the majority of the processing logic of the project.</p><p><code>all_user_data</code>:
ser file submissions, and the subsequent processed file results are saved in separate folders here, split as per:</p><ul><li><strong>training_data_submissions</strong> (raw csv).</li><li><strong>weight_data_submissions</strong> (raw csv).</li><li><strong>w_log_archive</strong> (JSON strings).</li><li><strong>training_log_archive</strong> (JSON strings).<ul><li>Each raw CSV submission creates 3 different products of processed data, appended by the user&rsquo;s name.</li><li>These files are formatted to be expected input formats to utilised libraries such as <code>tabulator</code> and <code>chart.js</code>. The functions will search the directories for the most up-to-date file for that user, before loading it to the page.<ul><li>e.g <code>All-Training-Data_Tommy_2024-02-06</code></li></ul></li></ul></li></ul><p><code>blueprints</code>:
This folder contains the 2 main submission processing logic <code>.py</code> files. The logic flow will be explained further down below.</p><ul><li><code>training_processing_bp.py</code></li><li><code>weight_processing_bp.py</code></li></ul><a href=#flask_session><h5 id=flask_session><span class=hanchor arialabel=Anchor># </span>flask_session:</h5></a><p>This is from a flask module to enable the facilitating of user sessions, through client-side cookie interaction.</p><a href=#static><h5 id=static><span class=hanchor arialabel=Anchor># </span>static:</h5></a><p>This directory contains the main <code>styles.css</code> file, as well as favicons for the site.</p><a href=#templates><h5 id=templates><span class=hanchor arialabel=Anchor># </span>templates:</h5></a><p>Here is contained all the HTML pages for the website, as accessible through the navbar. <code>layout.html</code> is the template which is used by the other pages, to extend the consistent elements to (navbar, JavaScript code linking etc).</p><a href=#requirementstxt><h5 id=requirementstxt><span class=hanchor arialabel=Anchor># </span>requirements.txt:</h5></a><p>This is where all the modules were captured to, with <code>pip freeze</code>.</p><a href=#logicimplementation-explanation><h2 id=logicimplementation-explanation><span class=hanchor arialabel=Anchor># </span>Logic/Implementation Explanation:</h2></a><a href=#user-accounts-database><h3 id=user-accounts-database><span class=hanchor arialabel=Anchor># </span>User Accounts Database:</h3></a><ul><li>User account/sign in data is stored within the <code>users.db</code> file, interacted with through an implementation of <code>SQLite</code> and <code>SQLAlchemy</code>.<ul><li>Initially, the simplistic design of DB cursors was considered, but coding the literal string queries was not intuitive to read or maintain.</li><li><code>SQLAlchemy</code> was implemented instead, which provides DB engine functionality, which improves efficiency by creating a single &ldquo;session&rdquo; for which the app can programatically engage when requiring database interaction, as opposed to create a cursor each time.</li><li>This is significantly more efficient, as the overhead to constantly creating and destroying cursor connections is eliminated.</li></ul></li><li>Username strings&rsquo;s will be converted with <code>.lower()</code>, before being saved to <code>users.db</code>.</li><li>Passwords are <strong>hashed</strong>, before storing them in the DB &ndash; this is done through the <code>werkzeug</code> module.</li></ul><a href=#shared-submission-functions><h3 id=shared-submission-functions><span class=hanchor arialabel=Anchor># </span>Shared Submission Functions:</h3></a><p><code>validateCSV()</code>:</p><ul><li>This is client-side functionality written as a HTML script. Data is validated to catch:<ul><li>Empty CSV files/no file attached to form.</li><li>CSV files that do not adhere to the expected headers, as per the FitNotes app&rsquo;s export files.</li><li>Checking if the correct data field was selected, for the file type submitted (i.e not clicking weight data submission, with a weight data file).</li></ul></li></ul><p><code>/upload</code>:</p><ul><li>This function is server-side, accessed through Flask&rsquo;s app routing mechanic (mapping URLs to functions), saving the file to the server to run validation functions it .</li><li>This function validates whether:<ul><li>The submitted file is a <code>.csv</code>,<code>plaintext</code> or<code>.txt</code> file.</li><li>The filename is appended with the user&rsquo;s username.</li><li>Whether the column headers are within expected format, consistent with the FitNotes Export function. This is done through the <code>validate_CSV()</code> function in <code>helpers.py</code>.</li></ul></li><li>If these conditions pass, then <code>process_weight_log()</code> is called, and a success code/message is returned to the client on completion.</li><li>Otherwise, the file is cleaned up from the system with <code>os.remove()</code> and an error message is returned to the client, leaving no trace of the failed submission.</li></ul><a href=#weight-data-submission><h3 id=weight-data-submission><span class=hanchor arialabel=Anchor># </span>Weight Data Submission:</h3></a><a href=#basic-logic-flow><h4 id=basic-logic-flow><span class=hanchor arialabel=Anchor># </span>Basic Logic Flow</h4></a><ol><li><p>When the form in<code>checkin.html</code> is submitted with the <code>weight log</code> field, the <code>onsubmit=""</code> function will first be called, to validate whether the user indeed attached a CSV file, and that it is not empty.</p></li><li><p>If these conditions are present, then the form proceeds to make an asynchronous ajax call to the <code>/upload</code> flask route, which runs further file validation functionality server-side.</p><ul><li>If the file is as expected, then <code>process_weight_log()</code> will be called to produce the processed JSON data for site functions, using the input file.</li></ul></li><li><p>The client window will then wait to receive either a <strong>success</strong> or <strong>error/failed</strong> screen, to represent whether the submission is valid, uploaded and ready for viewing on the site; or whether it was invalid and subsequently disposed of.</p></li></ol><a href=#functions><h4 id=functions><span class=hanchor arialabel=Anchor># </span>Functions:</h4></a><p><code>/process_weight_log</code>:</p><ul><li>First, the <code>select_latest_csv</code> helper function is called to parse the relevant directory to select the most recent submission (as per the timestamp included in filename, as FitNotes provides it), belonging to that user.<ul><li>This avoids updating the user&rsquo;s statistics with older data, even if it&rsquo;s uploaded out of order.</li></ul></li><li>The <code>pandas</code> module is then used to load the CSV file into a <code>dataframe</code>.<ul><li>Irrelevant columns such as &ldquo;Time&rdquo; and &ldquo;Unit&rdquo; is dropped .</li><li>Each row&rsquo;s date and weight data is extracted as <code>key-value</code> pairs, saved as a <code>JSON string</code> data structure.</li><li>The filename is taken from the most recent weight entry, e.g <code>WeightLog_Tommy_2023-11-15</code>.</li></ul></li><li>If this entire process succeeds without failure due to invalid fields, then a success code is returned, which then triggers the <code>upload</code> function to pass a success alert message to the client&rsquo;s browser.</li></ul><a href=#training-data-submissions><h3 id=training-data-submissions><span class=hanchor arialabel=Anchor># </span>Training Data Submissions:</h3></a><a href=#basic-logic-flow-1><h4 id=basic-logic-flow-1><span class=hanchor arialabel=Anchor># </span>Basic Logic Flow:</h4></a><p>Similar to weight submissions, the <code>process_training_log()</code> function is called as part of the submission form&rsquo;s <code>action</code>, after passing the basic <code>onsubmit()</code> empty file check.</p><ol><li><p>Each row is iterated over using <code>panda</code>&rsquo;s <code>.iterrows()</code> to first:</p><ul><li><strong>Produce a dict containing all the training data</strong> &ndash; this is eventually saved as it&rsquo;s own <code>All-Training-Data-user-timestamp</code> JSON file.</li><li>All <code>NaN</code> datatypes due to empty fields are applied with the <code>N/A</code> string instead, for compatible representation with <code>tabulator</code>.</li></ul></li><li><p>If a <strong>processed weight JSON</strong> file is available for the user (found for user within <code>.../w_log_archive</code>) , it will also make use of that data to create <em>strength index values</em> (calling <code>calculate_SI()</code>) and append it to the dataframe.</p><ul><li>This is a custom formula which takes into account the user&rsquo;s weight, and the rep range of the exercises set to develop a relative strength index score.</li><li>Weight records recorded within +/- 3 days of the date the exercises was executed are averaged to a single value, and then utilised for formula purposes.</li><li>The intention, is to allow users to compare strength feats, even if the context of data contains varying <em>reps</em>, <em>bodyweight</em> and <em>exercise weight</em>.</li><li>If no weight data is available, the <code>strength index</code> field for that row will be left blank.</li><li>The algorithim is a basic <code>O(n)</code>, <code>if x in y</code> test between all weight entries and all exercise entries.</li></ul></li><li><p>A second iteration is made over the <code>dict</code> created in step 1, now filtering/copying relevant records into two other <code>dicts</code>:</p><ul><li>These are used to preload different table data on the dashboard.</li><li>Algorithm is also <code>O(n)</code>, though a single pass will be used to produce the required 2 output results.</li><li>Highest Weight PR dict:<ul><li>Tracks the highest weight lifted, for each exercise. Substitutes heavier records during iterations to come to a single dict containing only the heaviest lifts of each exercise (Personal bests).</li></ul></li><li>Strength Index PR dict:<ul><li>Similar implementation as above, but instead tracks strength index scores.</li></ul></li></ul></li><li><p>Each of these 3 data structures are then output and saved as JSON files, to be used by the dashboard elements:
Namely:</p><ul><li><code>All-Training-Data_user_2024-02-06</code></li><li><code>Heaviest-PRs_user_2024-02-06</code></li><li><code>SI-PRs_user_2024-02-06</code></li></ul></li></ol><a href=#functions-1><h4 id=functions-1><span class=hanchor arialabel=Anchor># </span>Functions:</h4></a><p><code>calculate_SI</code>
The Strength Index (SI) is a custom formula designed to measure the strength feat of an exercise set, reagardless of fluctuating context (bodyweight, reps executed etc).</p><ul><li>This weight value is the average of all available weight data, within a 7 day proximity window (3 days on either side + the date).</li><li><strong>Formula:</strong></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=p>[</span> <span class=n>Reps</span> <span class=n>x</span> <span class=n>weight</span> <span class=p>]</span> <span class=o>/</span> <span class=p>[</span> <span class=n>bodyweight</span><span class=p>(</span><span class=n>kg</span><span class=p>)</span> <span class=n>x</span> <span class=n>RR</span> <span class=n>Factor</span><span class=o>*</span> <span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>RR factors:</li></ul><table><thead><tr><th>Reps Range</th><th>Scaling Factor</th></tr></thead><tbody><tr><td>1-2 reps</td><td>3.3</td></tr><tr><td>3-6 reps</td><td>1.4</td></tr><tr><td>7-10 reps</td><td>1 (normal)</td></tr><tr><td>11-15 reps</td><td>0.8</td></tr><tr><td>16+ reps</td><td>None (don&rsquo;t calculate due to obvious skewing)</td></tr></tbody></table><a href=#dashboard-explanation><h2 id=dashboard-explanation><span class=hanchor arialabel=Anchor># </span>Dashboard Explanation:</h2></a><a href=#modules><h3 id=modules><span class=hanchor arialabel=Anchor># </span>Modules:</h3></a><ul><li><strong>Chart.js:</strong> JavaScript library used to create the line graph.</li><li><strong>Tabulator:</strong> JavaScript library used to create interactive tables, storing the training data.</li></ul><a href=#data-flow><h3 id=data-flow><span class=hanchor arialabel=Anchor># </span>Data Flow:</h3></a><ol><li>From the submission/processing functions, JSON files are ready on the server.</li><li>This data is passed to the HTML template using <code>Jinja</code> templating.</li><li>JavaScript is then used to substitute this data into the options for <code>tabulator</code> and <code>chart.js</code><ul><li>This allows for the client to load and switch between datasets dynamically without making server requests, after they fully load page the first time.</li></ul></li></ol><a href=#elements><h3 id=elements><span class=hanchor arialabel=Anchor># </span>Elements:</h3></a><ul><li><strong>Weight Graph:</strong><ul><li>Displays a line graph of the user&rsquo;s weight over different time periods (3 months, 6 months, 12 months).</li><li>Users can switch between these periods using buttons.</li></ul></li><li><strong>Sorted Training Data Tables:</strong><ul><li>Shows the all the user&rsquo;s exercise records in an interactive table. Views can be switched to show:<ul><li>User&rsquo;s heaviest weight PRs for each exercise;</li><li>User&rsquo;s highest <em>Strength Index</em> scoring lifts.</li></ul></li><li>Users can switch between these two datasets using buttons.</li><li>Each row includes information including exercise name, reps, date achieved, body weight, and comments.</li></ul></li><li><strong>All Training Data Table</strong>:<ul><li>Includes similar context information as mentioned above, but displays ALL their training data.</li><li>Still enjoys benefit of cross-referenced and appended weight data, to each lift record.</li></ul></li></ul><a href=#other-design-notes><h2 id=other-design-notes><span class=hanchor arialabel=Anchor># </span>Other Design notes:</h2></a><a href=#metric-system-measurement-support-only><h3 id=metric-system-measurement-support-only><span class=hanchor arialabel=Anchor># </span>Metric System Measurement Support Only:</h3></a><ul><li>This decision to forgot Imperial measurements is heavily reliant on the target user being local friends who all use the <strong>Metric System</strong>.<ul><li>With that said, in the fringe event someone is using the imperial system, they can change the setting in their app and upload again with records in metric system.</li></ul></li></ul></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/Digital-Cottage/Notes/Notes/ data-ctx="Fitness Dashboard README" data-src=/Digital-Cottage/Notes/Notes class=internal-link>Notes</a></li><li><a href=/Digital-Cottage/Projects/Fitness-Dashboard/ data-ctx=here. data-src=/Digital-Cottage/Projects/Fitness-Dashboard class=internal-link>Fitness Dashboard</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://blamechance.github.io/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by Tommy Cao using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, ¬© 2024</p><ul><li><a href=https://blamechance.github.io>Home</a></li><li><a href=https://www.linkedin.com/in/tommy-cao-78aa06198/>LinkedIn</a></li><li><a href=https://github.com/Blamechance/blamechance.github.io>GitHub</a></li></ul></footer></div></div></body></html>